# 🥊 Fight Moments

> **試合をリアルタイムで見ないと手に入らない、決定的瞬間のNFT**
> ライブ配信視聴に革新的なインセンティブを創出

[![Sui Network](https://img.shields.io/badge/Sui-Network-4DA2FF?style=for-the-badge&logo=sui&logoColor=white)](https://sui.io/)
[![Walrus Storage](https://img.shields.io/badge/Walrus-Storage-00C9A7?style=for-the-badge)](https://docs.walrus.site/)
[![Next.js](https://img.shields.io/badge/Next.js-16-black?style=for-the-badge&logo=next.js)](https://nextjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5-blue?style=for-the-badge&logo=typescript)](https://www.typescriptlang.org/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg?style=for-the-badge)](https://opensource.org/licenses/MIT)

**🏆 Sui × ONE Championship Hackathon Submission**

---

## 📺 デモ

<!-- デモ動画を撮影後、以下のコメントを外してYouTube/LoomのURLを記載してください -->
<!--
[![Demo Video](https://img.youtube.com/vi/YOUR_VIDEO_ID/maxresdefault.jpg)](https://youtu.be/YOUR_VIDEO_ID)

📺 **[デモ動画を見る](https://youtu.be/YOUR_VIDEO_ID)** - 1分30秒のウォークスルー
-->

🌐 **ライブデモ**: https://fight-moments.pages.dev/
📦 **Smart Contract**: [View on Suiscan](https://suiscan.xyz/testnet/object/0xcb62132563f5a2a606950ae6417665d80fb06048bb2eb832618b5ee0376f4401)

---

## 🌟 プロジェクトハイライト

### 💰 解決する課題

**格闘技ライブ配信の最大の課題：「後でアーカイブで見れば良い」**

現状のスポーツライブ配信には以下の深刻な課題があります：

- ❌ **リアルタイム視聴の動機づけ不足**：見逃しても後でアーカイブで見れば良い、という心理が働き、**ライブ配信の価値が著しく低下**
- ❌ 配信プラットフォームに動画が閉じ込められている
- ❌ ファンが「自分が見たあの瞬間」を公式に所有できない
- ❌ 選手や主催団体への二次的収益還元が不十分

### 🎯 Fight Moments NFTの解決策

**「今見ないと手に入らない」— リアルタイム視聴に革新的インセンティブを創出**

| 特徴 | 説明 |
|------|------|
| ⚡ **リアルタイムMint** | 試合中の注目シーンを公式が即座に登録、ライブ視聴者だけがMint可能 |
| 🎬 **Walrus分散ストレージ** | 動画を永続的に保存、中央サーバーに依存しない |
| ⛓️ **Sui所有権証明** | ブロックチェーンで所有権を透明に管理 |
| 🎫 **限定発行 + シリアル番号** | オンチェーンSupply管理で希少価値を担保 |
| 💸 **二次流通対応** | Marketplaceでファン間の取引が可能 |

### 💡 ライブ視聴の動機づけ — 本プロジェクトの核心価値

**リアルタイムMintがスポーツライブ配信に革命をもたらす理由**

従来の配信モデルでは、ファンは「後でアーカイブで見ればいい」と考え、ライブ視聴率が低迷。
本プロジェクトは、**試合中の数分間だけMint可能な限定NFT**により、この課題を根本から解決します。

#### 🎯 4つの心理的インセンティブ

1. **⏰ 時間的希少性（FOMO）**
   - 試合中の決定的瞬間発生 → 公式が即座に登録 → **数分間だけMint可能**
   - 見逃したら**二度と初回発行権は手に入らない**
   - アーカイブ視聴者は二次市場でしか入手不可（高額化の可能性）

2. **🎫 その場にいた証明**
   - 歴史的瞬間を「目撃した証人」としてのNFT
   - タイムスタンプとシリアルナンバーで立ち会った証拠を永久保存
   - コレクターズアイテムとしての価値

3. **🏆 先着順競争**
   - 限定100人など、供給数を厳しく制限
   - 早くMintするほど若いシリアルナンバー（#1, #2...）
   - コミュニティ内でのステータス獲得

4. **📈 投資価値**
   - リアルタイム参加者のみが持つ希少NFT → 高い二次流通価値
   - 伝説的試合のNFTは将来的に高値取引の可能性
   - ファン活動と投資を両立

#### 📊 ビジネスインパクト

- **PPV購入動機**: NFTを手に入れるために、ライブ配信を購入
- **広告価値向上**: リアルタイム視聴者数の増加 → 広告単価UP
- **コミュニティ活性化**: NFT保有者限定イベントなど、エンゲージメント施策の基盤
- **選手・団体収益**: 二次流通ロイヤリティで継続的収益

→ ### **「後でアーカイブで見ればいい」から「今見ないと絶対損する」へ**

### ⚡ 技術的革新性

- ✅ **リアルタイムMint**: 試合中の決定的瞬間を即座にNFT化、ライブ視聴者限定Mint
- ✅ **Walrus × Sui統合**: 動画NFTの実用的実装を実現
- ✅ **Supply管理**: オンチェーン希少性制御（max_supply設定）
- ✅ **Display最適化**: Sui Explorer完全対応（HTTPS URL修正済み）
- ✅ **Admin権限制御**: AdminCapによる品質保証された登録フロー

---

## 📸 スクリーンショット

<!-- スクリーンショットを撮影後、以下のコメントを外してください -->
<!-- docs/screenshots/ に画像を配置済みの場合は、このセクションのコメントを外してください -->

<!--
### Landing Page
![Landing Page](./docs/screenshots/01_landing.png)

### Mint画面
![Mint Screen](./docs/screenshots/02_mint.png)

### NFT詳細（Walrus動画再生）
![NFT Detail with Walrus Video](./docs/screenshots/03_nft_detail.png)

### Marketplace
![Marketplace](./docs/screenshots/04_marketplace.png)
-->

> 📸 **スクリーンショット撮影ガイド**: [`docs/screenshots/README.md`](./docs/screenshots/README.md)

---

## 🏗️ システムアーキテクチャ

```mermaid
graph LR
    A[👤 Admin] -->|動画アップロード| B[📦 Walrus Storage]
    B -->|Blob ID取得| C[📜 Sui Move Contract]
    C -->|Moment登録| D[🎫 MintableMoment]
    E[👥 User] -->|Mint実行| D
    D -->|NFT発行| F[🖼️ FightMomentNFT]
    F -->|メタデータ表示| G[🌐 Sui Explorer / Marketplace]
    B -->|動画配信| G

    style A fill:#FFE4B5
    style B fill:#E0F7FA
    style C fill:#C5E1A5
    style D fill:#FFCCBC
    style E fill:#FFE4B5
    style F fill:#F8BBD0
    style G fill:#D1C4E9
```

### コア設計原則

- **分離責任**: ストレージ（Walrus） / 所有権（Sui） / UI（Next.js）
- **Admin権限制御**: AdminCapによる公式Moment登録制限
- **Supply管理**: max_supply制約による希少性保証
- **永続性**: Walrus分散ストレージで動画データを永久保存

---

## 🛠️ 技術スタック

### Blockchain & Storage
| 技術 | 用途 | バージョン |
|------|------|-----------|
| **Sui Move** | スマートコントラクト | 2024.beta edition |
| **Walrus** | 分散動画ストレージ | Testnet |
| **@mysten/dapp-kit** | Sui Wallet統合 | Latest |

### Frontend
| 技術 | 用途 | バージョン |
|------|------|-----------|
| **Next.js** | フロントエンドフレームワーク | 16.x (App Router) |
| **React** | UIライブラリ | 19.x |
| **TypeScript** | 型安全性 | 5.x |
| **Tailwind CSS** | スタイリング | v4 |
| **Biome** | Lint/Format | Latest |

---

## ✨ 主要機能

### 1. 🎬 Moment登録（Admin専用）

**試合中の注目シーンをリアルタイムで登録**

格闘技の試合中、KO・一本・判定などの決定的瞬間が起きた直後、公式管理者が即座に以下の操作を実行：

- 📹 注目シーンの動画ファイルをWalrusへアップロード
- 🔗 Blob IDを取得してMove Contractへ登録
- ⚙️ Moment情報設定（タイトル、説明、最大発行数）
- ⚡ **試合中継を見ているファンだけが即座にMint可能な状態に**

```typescript
// Adminのみ実行可能（AdminCap保有者）
register_mintable_moment(
  admin_cap: &AdminCap,
  title: String,
  description: String,
  media_url: String,  // Walrus Blob URL
  max_supply: u64,    // 最大発行数
  ctx: &mut TxContext
)
```

### 2. 🎫 NFT Mint（ユーザー）

**試合をライブ視聴しているファンだけが即座にMint可能**

リアルタイムでの価値：
- ⚡ 試合中の決定的瞬間発生 → 公式が即座に登録 → **その瞬間を見ていた人だけが限定NFTをMint**
- 🎫 先着順で限定数のみ発行（例: 最初の100人だけ）
- 🏆 ライブ視聴者特典として、その場に"いた"証明となる希少なNFT

Mintフロー：
- 登録されたMoment一覧から選択
- Mintボタンクリックでトランザクション実行
- シリアルナンバー付きNFT取得（例: #3/10）

```typescript
// 誰でもMint可能（Supply上限まで）
mint_moment(
  mintable: &mut MintableMoment,
  payment: Coin<SUI>,
  ctx: &mut TxContext
): FightMomentNFT
```

### 3. 📊 Supply管理

**オンチェーン希少性制御**

- 各Momentに最大発行数（max_supply）を設定
- 現在のMint数をトラッキング
- 上限到達後はMint不可（フロントでも表示）

### 4. 🔄 Marketplace

**NFTの二次流通**

- 発行済みNFT一覧表示
- Sui Kiosk経由での取引
- Transfer Policy適用（ロイヤリティ設定済み）

---

## 🚀 デプロイ情報

### Sui Testnet

| 項目 | 値 |
|------|-----|
| **Network** | Sui Testnet |
| **Package ID** | `0xcb62132563f5a2a606950ae6417665d80fb06048bb2eb832618b5ee0376f4401` |
| **Transfer Policy** | `0x5a9a3cf651d84104178b2d3ebc415d7f9c9d249d9969f083a2e3da88b17fe3a7` |
| **Admin Cap** | `0x97bb2c72fc4fda471b84dd606fa38534a3f017f28a5b1525017a9ff0e0d70b83` |
| **Collection ID** | `fight-moments-v1` |

### Walrus Testnet

| 項目 | 値 |
|------|-----|
| **Publisher URL** | `https://publisher.walrus-testnet.walrus.space` |
| **Aggregator URL** | `https://aggregator.walrus-testnet.walrus.space` |

### Frontend Deployment

- **Platform**: Cloudflare Pages
- **URL**: https://fight-moments.pages.dev/

---

## 💡 技術的チャレンジと解決策

### 1. 🎥 動画の永続化問題

**課題**: 中央集権的ストレージ（AWS S3, YouTube等）への依存

**解決策**:
- Walrus分散ストレージへの統合実装
- Blob IDをオンチェーンで管理
- Walrus Aggregator経由で動画配信

```typescript
// Walrus Blob URL形式
https://aggregator.walrus-testnet.walrus.space/v1/{blob_id}
```

### 2. 🖼️ NFTメタデータの柔軟性

**課題**: Sui ExplorerでのNFT表示URL形式問題

**解決策**:
- Display設定でHTTPS URLを指定
- image_url/media_url両方に対応
- 最近のコミットで修正完了（`b0d61a7`）

```move
// Display設定（Move Contract）
display.add(b"image_url", b"https://aggregator.walrus-testnet.walrus.space/v1/{media_url}");
```

### 3. ⚙️ Supply管理の信頼性

**課題**: NFT発行数の上限制御をオンチェーンで実現

**解決策**:
- MintableMoment構造体でcurrent_supply/max_supplyを管理
- Mint時にassert!で上限チェック
- フロントエンドでも進捗表示（5/10 Mintedなど）

---

## 📦 ローカル実行方法

### 前提条件

- Node.js 20+ または Bun
- Sui CLI（Smart Contract開発用）
- Sui Wallet（Chrome拡張）

### セットアップ（3ステップ）

#### 1️⃣ リポジトリクローン

```bash
git clone https://github.com/YOUR_USERNAME/fight_moments.git
cd fight_moments
```

#### 2️⃣ 環境変数設定

```bash
cd frontend
cp .env.example .env
```

`.env`ファイルを編集して、デプロイ済みのContract情報を記載:

```bash
NEXT_PUBLIC_PACKAGE_ID=0xcb62...  # あなたのPackage ID
NEXT_PUBLIC_ADMIN_CAP_ID=0x97bb...  # Admin Cap ID
# その他の環境変数も設定
```

> 📄 詳細は [`frontend/.env.example`](./frontend/.env.example) を参照

#### 3️⃣ 起動

```bash
# 依存関係インストール
bun install  # または npm install

# 開発サーバー起動
bun dev  # または npm run dev
```

ブラウザで http://localhost:3000 を開く

---

## 🏆 Sui × ONE Championship ハッカソンへの適合性

### ONE Championshipへの革新的価値提案

**本プロジェクトの最大の価値：ライブ配信視聴率の飛躍的向上**

格闘技興行において、**ライブ配信視聴者数**はビジネスの生命線です。
Fight Moments NFTは、リアルタイムMintにより、この最重要KPIに直接インパクトを与えます。

| ONE Championshipの課題/価値 | Fight Moments NFTで実現 |
|------------------------|------------------------|
| 📺 **ライブ視聴率の最大化** 🔥 | **試合中にしかMintできない限定NFT**で「今見ないと損する」心理を創出 → PPV購入・視聴者数が劇的に向上 |
| ⚡ **瞬間のドラマを資産化** | KO・一本などの決定的瞬間を永続化、ファンが所有可能 |
| 🌏 **グローバルファンベース** | 世界中のファンが同時刻に同じNFTを奪い合う、国境を超えた一体感 |
| 🎖️ **アスリート価値の最大化** | 選手の名シーンがファン資産として流通、選手のブランド価値向上 |
| 📈 **新収益モデル構築** | 二次流通ロイヤリティで継続的収益、NFT保有者限定コンテンツ等の展開 |

### Sui Networkの技術優位性

| Sui特性 | 本プロジェクトでの活用 |
|---------|----------------------|
| ⚡ **高速トランザクション** | 試合中のリアルタイムMintに必須、Mint処理が即座に完了 |
| 💰 **低コスト** | ライブ視聴中のファンが気軽に複数Mint可能 |
| 🎨 **豊富なDisplay機能** | NFTメタデータの柔軟な表示 |
| 🔧 **Move言語の安全性** | Supply制御やAdmin権限を厳密に実装 |

### ハッカソンテーマ該当性

- ✅ **DeFi/NFT活用**: NFT Marketplace + ロイヤリティ分配
- ✅ **Infrastructure**: Walrus分散ストレージ統合
- ✅ **Gaming/Entertainment**: スポーツエンタメ × ファンエンゲージメント
- ✅ **Sui技術の最大活用**: Move 2024.beta + Display + Kiosk

---

## 🎬 デモ動画撮影について

> 📹 **撮影台本**: [`docs/DEMO_SCRIPT.md`](./docs/DEMO_SCRIPT.md)

デモ動画を作成される場合は、上記の台本を参考にしてください。
推奨時間: **1分30秒**

---

## 📁 リポジトリ構成

```
fight_moments/
├── contracts/              # Sui Move スマートコントラクト
│   ├── sources/
│   │   └── contracts.move  # FightMomentNFT, MintableMoment定義
│   ├── Move.toml
│   └── Move.lock
├── frontend/               # Next.js フロントエンド
│   ├── src/
│   │   ├── app/           # App Router（pages）
│   │   ├── components/    # React Components
│   │   ├── lib/           # Utilities, Constants
│   │   └── hooks/         # Custom Hooks
│   ├── public/
│   ├── package.json
│   ├── .env.example       # 環境変数サンプル
│   └── biome.json         # Linter設定
├── docs/                  # ドキュメント
│   ├── screenshots/       # スクリーンショット用
│   │   └── README.md      # 撮影ガイド
│   └── DEMO_SCRIPT.md     # デモ動画台本
└── README.md              # 本ドキュメント
```

---

## 🛣️ ロードマップ

### ✅ Phase 1: MVP（完了）

- [x] Sui Move Contract実装（NFT + Supply管理）
- [x] Walrus統合（動画アップロード＆配信）
- [x] Admin登録UI
- [x] User Mint UI
- [x] Marketplace基本機能
- [x] Sui Testnetデプロイ

### 🚧 Phase 2: Enhancement（実装中）

- [ ] フロントエンドデプロイ（Vercel）
- [ ] スクリーンショット撮影
- [ ] デモ動画作成
- [ ] UI/UXブラッシュアップ

### 🔮 Phase 3: Future（構想）

- [ ] ONE Championship公式コンテンツ連携
- [ ] 投票機能（ファンが選ぶベストモーメント）
- [ ] ロイヤリティ自動分配
- [ ] クロスチェーン対応（他チェーンへのブリッジ）
- [ ] モバイルアプリ

---

## 🤝 コントリビューション

現在はハッカソン提出版のため、コントリビューションは受け付けておりません。
プロジェクトへのフィードバックは [Issues](../../issues) までお願いします。

---

## 📄 ライセンス

MIT License - 詳細は [LICENSE](./LICENSE) を参照

---

## 🙏 謝辞

- **Sui Foundation** - 高速で安全なブロックチェーンインフラ
- **Walrus Team** - 分散ストレージソリューション
- **ONE Championship** - 格闘技エンターテインメントの革新
- **ハッカソン運営チーム** - 素晴らしい機会の提供

---

## 📞 コンタクト

プロジェクトに関するお問い合わせ:
- GitHub Issues: [こちら](../../issues)
- X (Twitter): [@YOUR_HANDLE]  <!-- 必要に応じて記載 -->

---

<div align="center">

**🥊 Fight Moments NFT - Own the Moment, Forever 🥊**

Made with ❤️ for Sui × ONE Championship Hackathon

</div>
